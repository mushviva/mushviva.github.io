import{d as T,r as g,B as A,C as W,h as D,D as F,g as H,p as V,o as j,a as q,E as G,s as S}from"./app-D-wcqW5z.js";const J="#88888825",K=30,U=T({__name:"ArtPlum",setup(L){const y=Math.PI,k=Math.PI/2,x=Math.PI/12,v=g(null),{random:r}=Math,n=A(W()),P=g(()=>{}),b=g(6),_=g(!1);function z(s,t=400,c=400,l){const e=s.getContext("2d"),o=window.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=o/a;return s.style.width=`${t}px`,s.style.height=`${c}px`,s.width=i*t,s.height=i*c,e.scale(i,i),{ctx:e,dpi:i}}function C(s=0,t=0,c=0,l=0){const e=c*Math.cos(l),o=c*Math.sin(l);return[s+e,t+o]}D(async()=>{const s=v.value,{ctx:t}=z(s,n.width,n.height),{width:c,height:l}=s;let e=[],o=[];const a=(h,M,w,m={value:0})=>{const $=r()*b.value;m.value+=1;const[d,p]=C(h,M,$,w);t.beginPath(),t.moveTo(h,M),t.lineTo(d,p),t.stroke();const E=w+r()*x,N=w-r()*x;if(d<-100||d>n.width+100||p<-100||p>n.height+100)return;const R=m.value<=K?.8:.5;r()<R&&e.push(()=>a(d,p,E,m)),r()<R&&e.push(()=>a(d,p,N,m))};let i=performance.now();const I=1e3/40;let u;u=F(()=>{performance.now()-i<I||(o=e,e=[],i=performance.now(),o.length||(u.pause(),_.value=!0),o.forEach(h=>{r()<.5?e.push(h):h()}))},{immediate:!1});const f=()=>r()*.6+.2;P.value=()=>{u.pause(),t.clearRect(0,0,c,l),t.lineWidth=1,t.strokeStyle=J,o=[],e=[()=>a(f()*n.width,-5,k),()=>a(f()*n.width,n.height+5,-k),()=>a(-5,f()*n.height,0),()=>a(n.width+5,f()*n.height,y)],n.width<500&&(e=e.slice(0,2)),u.resume(),_.value=!1},P.value()});const B=H(()=>"radial-gradient(circle, transparent, black);");return(s,t)=>(j(),V("div",{class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden",style:G([{"z-index":"-1"},`mask-image: ${S(B)};--webkit-mask-image: ${S(B)};`])},[q("canvas",{ref_key:"el",ref:v,width:"400",height:"400"},null,512)],4))}});export{U as default};
