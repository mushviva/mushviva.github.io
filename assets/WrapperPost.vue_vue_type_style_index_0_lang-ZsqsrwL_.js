const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ArtPlum-C3R-fhHp.js","assets/app-BjnyDYSX.js","assets/app-5pgKUwCo.css","assets/ArtDots-B5j2YjQq.js"])))=>i.map(i=>d[i]);
import{e as B,f as K,q as V,x as $,g as p,y as z,z as R,A as T,B as I,C as x,D as A,s as L,i as a,o as r,c as S,j as c,a as s,k as d,w as M,p as N,v as D,t as u,b,l as q,E as U,d as W,_ as O}from"./app-BjnyDYSX.js";const F=["lang"],Y={class:"mb-0 slide-enter-50"},G={key:0,class:"opacity-50 !-mt-6 slide-enter-50"},H={key:0},J={key:1},Q=["data-url"],X={key:1,class:"mt--4!"},Z=["href"],tt={key:1,"font-bold":""},et={key:2,class:"opacity-50 !-mt-6 italic slide-enter"},nt={key:3,class:"slide-enter","bg-orange-4:10":"","text-orange-4":"",border:"l-3 orange-4",px4:"",py2:""},ot=["lang"],rt={key:2,class:"prose m-auto mt-8 mb-8 slide-enter animate-delay-500 print:hidden"},at={class:"comments"},st={class:"title"},it={class:"counter"},ct=["data-url"],lt={key:3,class:"prose m-auto mt-8 mb-8 slide-enter animate-delay-500 print:hidden"},ut=B({__name:"WrapperPost",props:{frontmatter:{type:Object,required:!0}},setup(o){const P=K(),m=V(),v=$(),f=p(()=>{const t=m.path;return t==="/"?!1:!!(t.startsWith("/notes/")&&t!=="/notes"||/\/zh\/\d{4}\/\d{2}\/\d{2}\//.test(t)||t.startsWith("/posts/"))}),w=p(()=>{if(typeof window>"u")return"";let t=window.location.origin+m.path;return t.endsWith("/")||(t=`${t}/`),t}),C=p(()=>typeof window>"u"?"light":document.documentElement.classList.contains("dark")?"dark":"light");function j(){if(typeof window>"u")return;const t=new MutationObserver(e=>{for(const i of e)if(i.type==="attributes"&&i.attributeName==="class"){const n=window.REMARK42;if(n&&f.value){const l=document.documentElement.classList.contains("dark")?"dark":"light";window.remark_config.theme=l,n.destroy(),n.createInstance(window.remark_config)}}});return t.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),t}function _(){if(!f.value||typeof window>"u")return;const t={host:"http://mushviva.zeabur.app",site_id:"guavaswing.com",components:["embed","counter"],max_shown_comments:20,simple_view:!0,theme:C.value,url:w.value};window.remark_config=t;const e=window.REMARK42;if(e)e.destroy(),e.createInstance(t);else for(const i of t.components){const n=document.createElement("script");n.src=`${t.host}/web/${i}.mjs`,n.type="module",n.defer=!0,n.setAttribute("data-no-instant",""),document.head.appendChild(n)}}function y(){if(!f.value||typeof window>"u")return;document.querySelectorAll('script[src*="counter.mjs"]').forEach(i=>i.remove());const e=document.createElement("script");e.src=`${window.remark_config.host}/web/counter.mjs?_=${Date.now()}`,e.type="module",e.defer=!0,e.setAttribute("data-no-instant",""),document.head.appendChild(e)}z(()=>{const t=()=>{if(location.hash){const n=document.querySelector(decodeURIComponent(location.hash));if(n){const l=n.getBoundingClientRect(),h=window.scrollY+l.top-40;return window.scrollTo({top:h,behavior:"smooth"}),!0}}},e=n=>{const l=n.target.closest("a");if(!n.defaultPrevented&&l&&n.button===0&&l.target!=="_blank"&&l.rel!=="external"&&!l.download&&!n.metaKey&&!n.ctrlKey&&!n.shiftKey&&!n.altKey){const h=new URL(l.href);if(h.origin!==window.location.origin)return;n.preventDefault();const{pathname:k,hash:g}=h;g&&(!k||k===location.pathname)?(window.history.replaceState({},"",g),t()):P.push({path:k,hash:g})}};R(window,"hashchange",t),R(v.value,"click",e,{passive:!1}),setTimeout(()=>{t()||setTimeout(t,1e3)},1),T(()=>{setTimeout(y,500)});const i=j();I(()=>{i?.disconnect()})}),x(()=>m.path,()=>{T(()=>{_(),setTimeout(y,300)})},{immediate:!0}),x(C,()=>{_(),setTimeout(y,300)});const E=p(()=>{let t=o.frontmatter.art;if(t==="random"&&(t=Math.random()>.5?"plum":"dots"),typeof window<"u"){if(t==="plum")return A(()=>O(()=>import("./ArtPlum-C3R-fhHp.js"),__vite__mapDeps([0,1,2])));if(t==="dots")return A(()=>O(()=>import("./ArtDots-B5j2YjQq.js").then(e=>e.ap),__vite__mapDeps([3,1,2])))}});return(t,e)=>{const i=L("ClientOnly"),n=L("RouterLink");return r(),a("div",null,[d(E)?(r(),S(i,{key:0},{default:M(()=>[(r(),S(N(d(E))))]),_:1})):c("",!0),o.frontmatter.display??o.frontmatter.title?(r(),a("div",{key:1,class:D(["prose m-auto mb-8",[o.frontmatter.wrapperClass]]),lang:o.frontmatter.lang},[s("h1",Y,u(o.frontmatter.display??o.frontmatter.title),1),o.frontmatter.date?(r(),a("p",G,[b(u(d(q)(o.frontmatter.date,!1))+" ",1),o.frontmatter.duration?(r(),a("span",H,"· "+u(o.frontmatter.duration),1)):c("",!0),d(f)?(r(),a("span",J,[e[0]||(e[0]=b(" · ",-1)),s("span",{class:"remark42__counter","data-url":d(w)},null,8,Q),e[1]||(e[1]=b(" comments",-1))])):c("",!0)])):c("",!0),o.frontmatter.place?(r(),a("p",X,[e[2]||(e[2]=s("span",{op50:""},"at ",-1)),o.frontmatter.placeLink?(r(),a("a",{key:0,href:o.frontmatter.placeLink,target:"_blank"},u(o.frontmatter.place),9,Z)):(r(),a("span",tt,u(o.frontmatter.place),1))])):c("",!0),o.frontmatter.subtitle?(r(),a("p",et,u(o.frontmatter.subtitle),1)):c("",!0),o.frontmatter.draft?(r(),a("p",nt," This is a draft post, the content may be incomplete. Please check back later. ")):c("",!0)],10,F)):c("",!0),s("article",{ref_key:"content",ref:v,lang:o.frontmatter.lang,class:D([o.frontmatter.tocAlwaysOn?"toc-always-on":"",o.frontmatter.class])},[U(t.$slots,"default")],10,ot),d(f)?(r(),a("div",rt,[s("div",at,[s("div",st,[e[3]||(e[3]=s("span",null,"Comments",-1)),s("span",it,[s("span",{class:"remark42__counter","data-url":d(w)},null,8,ct)])]),e[4]||(e[4]=s("div",{id:"remark42"},null,-1))])])):c("",!0),d(m).path!=="/"?(r(),a("div",lt,[e[5]||(e[5]=s("span",{"font-mono":"",op50:""},"> ",-1)),W(n,{to:d(m).path.split("/").slice(0,-1).join("/")||"/",class:"font-mono op50 hover:op75",textContent:"cd .."},null,8,["to"])])):c("",!0)])}}});export{ut as _};
